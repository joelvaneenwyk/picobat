# https://taskfile.dev

version: '3'

tasks:
  default:
    cmds:
      - task: build

  build:
    cmds:
      - defer: format
      - cmd: cmd.exe /D /C del femto-config.mk
        ignore_error: true
      - cmd: make config
      - cmd: make all

  format:
    cmds:
      - cmd: git add .
      - cmd: rm *.md
      - cmd: make
      - cmd: npx --yes markdownlint-cli2@latest --fix "**/*.md" "#node_modules"
        ignore_error: true

